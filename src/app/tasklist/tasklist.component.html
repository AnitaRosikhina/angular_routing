<div class="container">
  <h2>Plan your day!</h2>
  <h3>User: Ivan Ivanov. Count of Task <span>{{ tasks.length }}</span></h3>
  <hr>
  <div class="d-flex justify-content-center">
    <input
      type="text"
      class="form-control password"
      id="floatingPassword"
      [(ngModel)]="taskInput"
    >
    <div *ngIf="error" class="text-danger">
      Заповніть поле!
    </div>
    <button type="button" class="btn btn-success" (click)="addUser()">Add</button>
  </div>
</div>
<div class="container">
  <table class="table">
    <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Task</th>
      <th scope="col">Check</th>
      <th scope="col">DONE/IN PROGRESS</th>
      <th scope="col">Edit</th>
      <th scope="col">Delete</th>
    </tr>
    </thead>
    <tbody class="tbody">
    <tr *ngFor="let task of tasks; let i = index">
      <td>
        {{ i + 1 }}
      </td>
      <td>
        {{ task.taskName }}
      </td>
      <td>
        <input
          class="form-check-input"
          type="checkbox"
          (change)="changeStatus(i)"
          [checked]="status"
        >
      </td>
      <td>
        <span [ngStyle]="{'color': task.status ? 'green': 'red'}">
            {{ task.status ? 'DONE' : 'In PROGRESS' }}
        </span>
      </td>
      <td>
        <button
          type="button"
          class="btn btn-warning btn_edit"
          (click)="edit(task, i)"
        >
          Edit
        </button>
      </td>
      <td>
        <button
          type="button"
          class="btn btn-danger btn_delete"
          [disabled]="!task.status"
          (click)="deleteTask(i)"
        >
          Delete
        </button>
      </td>
    </tr>
    </tbody>
  </table>
  <div *ngIf="blockEdit" class="d-flex justify-content-center">
    <input
      type="text"
      class="form-control password"
      id="floatingPassword"
      [(ngModel)]="editTask"
    >
    <div *ngIf="error" class="text-danger">
      Заповніть поле!
    </div>
    <button
      type="button"
      class="btn btn-warning btn_edit"
      (click)="save()"
    >
      Save
    </button>
  </div>
</div>

